@using Amba.ImagePowerTools.Fields
@using Amba.ImagePowerTools.HtmlHelpers
@using System.Linq
@using Amba.ImagePowerTools.Settings
@{
    var field = (ImageMultiPickerField)Model.Field;
    var settings = (ImageMultiPickerFieldSettings)Model.Settings;
    Script.Require("jQuery");
    Style.Require("Waffles");
    Style.Include("galleria.simian.css");
    Style.Include("PropertyImageGallery");
    
    Script.Include("galleria");
    Script.Include("galleria.simian.js");
    Script.Include("PropertyImageGallery");
}

@if (field.Images.Any())
{
    <div class="waffles property-imagegallery">
        <div class="property-imagegallery-slidingframe">
            @foreach (var image in field.Images)
            {   
                <div class="property-imagegallery-image-frame">
                    @{
                        var title = image["title"];
                        var description = image["description"];
                        var imageUrl = "~/"+image.FilePath;
                    }
                    <a href= @Href(imageUrl)>
                        @Html.ResizedImage(image.FilePath, htmlAttributes: new { alt = "", @class = "property-imagegallery-image-image", data_title = @title, data_description = @description })
                    </a>
                </div>
        
            }
        </div>
    </div>
}